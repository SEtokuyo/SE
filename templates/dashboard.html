{% extends 'base.html' %}

{% block title %}儀表板 - 銷售管理系統{% endblock %}

{% block content %}
<!-- 頁面內容 -->
<div class="container">
  <h1 class="mt-5">儀表板</h1>

  <!-- 銷售統計 -->
  <h2 class="mt-4">銷售統計</h2>
  <p>總銷售額: ${{ total_sales }}</p>
  <p>最暢銷的產品: {{ best_selling_product }}</p>
  <p>每月銷售趨勢: {{ monthly_sales_chart }}</p>

  <!-- 最新訂單 -->
  <h2 class="mt-4">最新訂單</h2>
  <ul class="list-group">
    {% for order in latest_orders %}
    <li class="list-group-item">{{ order.order_number }} - {{ order.date }} - {{ order.customer_name }}</li>
    {% endfor %}
  </ul>

  <!-- 產品庫存狀態 -->
  <h2 class="mt-4">產品庫存狀態</h2>
  <table class="table">
    <thead>
      <tr>
        <th>產品名稱</th>
        <th>可用庫存</th>
        <th>預警庫存</th>
      </tr>
    </thead>
    <tbody>
      {% for product in products %}
      <tr>
        <td>{{ product.name }}</td>
        <td>{{ product.available_stock }}</td>
        <td>{{ product.warning_stock }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- 銷售圖表 -->
  <h2 class="mt-4">銷售圖表</h2>
  <div class="mt-3">
    {{ sales_chart }}
  </div>

  <!-- 重要提醒和通知 -->
  <h2 class="mt-4">重要提醒和通知</h2>
  <ul class="list-group">
    {% for notification in notifications %}
    <li class="list-group-item">{{ notification }}</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}